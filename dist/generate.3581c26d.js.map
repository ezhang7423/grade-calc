{"version":3,"sources":["src/generate.js"],"names":["calcGrad","grade","weight","num","Math","round","Number","EPSILON","generate","store","numClasses","colors","getColors","Object","count","keys","component","tmp","createParent","create","classContainer","appendChild","editCSS","alph","makeResponsive","addListeners","canChanges","document","querySelectorAll","querySelector","addEventListener","e","preventDefault","target","style","width","x","saveMeBlur","saveMeEnter","saves","saveCourse","deletes","deleteCourse","togandPopModal","openTooltip","print","parentNode","name","createComponents","createTotal","genTooltip","iter","calcGrade","tooltip","grad","gradie","data","weights","i","isList","createAdder","node","sum","calcSum"],"mappings":"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","file":"generate.3581c26d.js","sourceRoot":"..","sourcesContent":["// add sorting for comps and for courses\n// disallow same name of course, and same name of component\n// keep positions\n// disallow empty string as object key\n// still to do: export\n// and fix the width of name\nfunction calcGrad(grade, weight) {\n  let num = (grade / 100) * weight;\n  return Math.round((num + Number.EPSILON) * 100) / 100;\n}\nfunction generate(store, numClasses) {\n  colors = getColors(numClasses);\n  let count = 0;\n  for (let component of Object.keys(store)) {\n    // let tmp = `<div class=\"course ${alph(count)}\">${component}</div>`;\n    let tmp = createParent(component, store, count);\n    tmp = create(tmp);\n    classContainer.appendChild(tmp);\n    editCSS(`.${alph(count)}.course{background-color: ${colors[count]};}`);\n    count++;\n  }\n  makeResponsive(numClasses);\n  addListeners();\n}\n\nfunction addListeners() {\n  let canChanges = document.querySelectorAll(\".cc\");\n  document.querySelector(\".namecc.cc\").addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    e.target.style.width = `40vw`;\n  });\n  for (let x of canChanges) {\n    x.addEventListener(\"focusout\", saveMeBlur);\n    x.addEventListener(\"keyup\", saveMeEnter);\n  }\n  let saves = document.querySelectorAll(\"[title = 'save']\");\n  for (let x of saves) {\n    x.addEventListener(\"click\", saveCourse);\n  }\n  let deletes = document.querySelectorAll(\"[title = 'delete']\");\n  for (let x of deletes) {\n    x.addEventListener(\"focusout\", deleteCourse);\n  }\n\n  for (let x of document.querySelectorAll(\".naked.addcc\")) {\n    x.addEventListener(\"click\", togandPopModal);\n  }\n  for (let x of document.querySelectorAll(\".tooltip\")) {\n    x.addEventListener(\"click\", openTooltip);\n  }\n}\nfunction makeResponsive(numClasses) {\n  if (numClasses === 5) {\n    print(\"numclasses 5\");\n    editCSS(`\n    .nakinput.pcc, .nakinput, .nakinput.compcc, .addcc.naked, .component{font-size: 1.5vw;}`);\n    editCSS(`.titlecc, .total{font-size: 2vw;}`);\n    editCSS(\n      `.course-naked{font-size: .9vw;}\n        `\n    );\n  } else if (numClasses > 5) {\n    print(\"numclasses greater than 5\");\n    editCSS(`\n    .nakinput.pcc, .component, .nakinput, .nakinput.compcc, .addcc.naked{font-size: .9vw;}`);\n    editCSS(`.titlecc, .total{font-size: 1vw;}`);\n    editCSS(\n      `.course-naked{font-size: .8vw;}\n        `\n    );\n  }\n}\nfunction createParent(component, store, count) {\n  let parentNode = `\n  <div class=\"course ${alph(count)}\">\n  <div><button title=\"delete\" class=\"course-naked\">&#xf00d;</button></div>\n    <input spellcheck=\"false\"\n     class = \"course-title cc nakinput titlecc\"\n      name = \"course-title\"\n       placeholder=\"${store[component].name}\" />\n    ${createComponents(store[component])}\n    ${createTotal(store[component])}\n  </div>`;\n  return parentNode;\n}\n\nfunction genTooltip(iter, calcGrade) {\n  let tooltip = `<span class=\"tooltip ar\"\n  >${calcGrade}/${iter.weight}%\n  <span class=\"tooltiptext\">\n  `;\n\n  for (let grade of Object.keys(iter.grad)) {\n    tooltip += `<div class=\"full-comp\">\n  \n    <input\n      spellcheck=\"false\"\n      class=\"cc nakinput weight compcc\"\n      name=\"wcomp\"\n      type=\"text\"\n      maxlength=\"8\"\n      placeholder=\"${iter.grad[grade].name}\"\n    />\n    <span class=\"weight ar\">\n      <input\n        maxlength=\"5\"\n        spellcheck=\"false\"\n        title=\"Enter the score you got out of 100 (your raw score)\"\n        class=\"cc nakinput weight pcc\"\n        name=\"wpercent\"\n        placeholder=\"${iter.grad[grade].gradie}\"\n      />\n      /100%</span\n    >\n  </div>\n  `;\n  }\n  tooltip += `\n  </span>\n</span>`;\n  return tooltip;\n}\nfunction createComponents(data) {\n  let parentNode = `<div class = \"components\">`;\n  let childNode, iter, calcGrade;\n  for (let i of Object.keys(data.weights)) {\n    iter = data.weights[i];\n    calcGrade = calcGrad(iter.grade, iter.weight);\n    if (iter.isList) {\n      childNode = `\n      <div class = \"component\">\n        <div class = 'left-comp'>\n          <i class=\"fas fa-list-ul\"></i>\n          <input spellcheck=\"false\"\n           class=\"cc nakinput compcc\" \n           name=\"component\" \n           maxlength=\"10\"\n           type=\"text\"\n           placeholder=\"${iter.name}\" />\n        </div>\n        ${genTooltip(iter, calcGrade)}\n      </div>`;\n    } else {\n      childNode = `\n      <div class = \"component\">\n        <div class = 'full-comp'>\n          <i class=\"fas fa-check-square\"></i>\n          <input spellcheck=\"false\" \n          class=\"cc nakinput compcc\" \n          name=\"component\" \n          type=\"text\"\n          maxlength=\"10\"\n          placeholder=\"${iter.name}\" />\n          \n          <span class=\"ar\">\n          <input\n            maxlength=\"5\"\n            spellcheck=\"false\"\n            title=\"Enter the score you got out of 100 (your raw score)\"\n            class=\"cc nakinput pcc\"\n            name=\"percentage\"\n            placeholder=\"${calcGrade}\"\n          />\n          /${iter.weight}%</span\n        >\n        </div>\n      </div>\n      `;\n    }\n    parentNode += childNode;\n  }\n  parentNode += createAdder();\n\n  return parentNode + `</div>`;\n}\n\nfunction createAdder() {\n  let node = `\n    <div class=\"add-component component\">\n    <button class=\"addcc naked\">Advanced</button>\n  </div>\n    `;\n  return node;\n}\n\nfunction createTotal(data) {\n  let sum = calcSum(data);\n  let node = `\n    <div class=\"total-container\">\n  <hr class=\"linebreak\" />\n  <div class=\"total\">Total <span class=\"tar\">${sum}/100%</span></div>\n</div>\n    `;\n  return node;\n}\n"]}