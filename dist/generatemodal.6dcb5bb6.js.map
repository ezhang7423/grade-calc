{"version":3,"sources":["src/generatemodal.js"],"names":["populateModal","name","modalContent","comp","store","searchObj","calcSum","letterGrade","genComponents","num","numComponents","editCSS","Array","join","components","Object","keys","weights","length","compString","x","genComponent","calcC","weight","contribuition","Math","String","replace","round","isList","grade","Number","EPSILON","grad","i","gradie"],"mappings":";AAAA,SAASA,EAAcC,GACjBC,IAAAA,EAAJ,wFAEIC,EAAOC,MAAMC,UAAUD,MAAOH,IAClCC,GACiCD,iEAAAA,OAAAA,EAASK,MAAAA,OAAAA,QAAQH,GAChDG,kBAAAA,OAAAA,QAAQH,GAAQ,GAAK,MAAQ,OAC3BI,KAAAA,OAAAA,YAAYJ,GAGdK,qDAAAA,OAAAA,EAAcP,GANhB,QAQIQ,IAAAA,EAAMC,EAAcT,GAkCjBC,OAjCPA,GAKuCO,2IAAAA,OAAO,GAAPA,EAAW,WAAa,GAIxBA,mGAAAA,OAAO,GAAPA,EAAW,WAAa,GAT/D,2PAsBIA,GAAO,EACTE,QACqCC,mCAAAA,OAAAA,MAAMH,EAAM,GAAGI,KAAK,QADzD,UAIAF,QACqCC,mCAAAA,OAAAA,MAAM,GAAGC,KAAK,QAAiBD,WAAAA,OAAAA,MAChEH,EAAM,GACNI,KAAK,WAGJX,EAGT,SAASQ,EAAcT,GACjBa,IAAAA,EAAaV,MAAMC,UAAUD,MAAOH,IACjCc,OAAAA,OAAOC,KAAKF,EAAWG,SAASC,OAEzC,SAASV,EAAcP,GACrBkB,WAAA,GAEcJ,IADVD,IAAAA,EAAaV,MAAMC,UAAUD,MAAOH,IAC1Bc,EAAAA,EAAAA,EAAAA,OAAOC,KAAKF,EAAWG,SAAU,EAAA,EAAA,OAAA,IAAA,CAAtCG,IAAAA,EAAJ,EAAA,GACHD,YAAcE,EAAaP,EAAWG,QAAQG,IAEzCD,OAAAA,WAGT,SAASG,EAAMb,EAAKc,GACdC,IAAAA,EAAgBf,EAAMc,EAKnBE,OAJEC,OAAOF,GAAeG,QAAQ,IAAK,IAAIT,OACvC,IACPM,EAAgBC,KAAKG,MAAMJ,IAEtBC,KAAKG,MAAsB,IAAhBJ,GAAuB,IAE3C,SAASH,EAAaD,GAChBA,GAAAA,EAAES,OAAQ,CAqBEd,IApBVN,IAAAA,EAAMgB,KAAKG,MAAmC,KAA5BR,EAAEU,MAAQC,OAAOC,UAAkB,IAGrDR,EAAgBF,EAAMb,EAAKW,EAAEG,QAE7BpB,EAIWiB,uKAAAA,OAAAA,EAAEnB,KAQEmB,sRAAAA,OAAAA,EAAEG,OAZrB,kCAecR,EAAAA,EAAAA,EAAAA,OAAOC,KAAKI,EAAEa,MAAO,EAAA,EAAA,OAAA,IAAA,CAA1BC,IAAAA,EAAJ,EAAA,GACH/B,GAIiBiB,2LAAAA,OAAAA,EAAEa,KAAKC,GAAGjC,KAIVmB,mKAAAA,OAAAA,EAAEa,KAAKC,GAAGC,OAR3B,uBA8BKhC,OAnBPA,GAOIM,sPAAAA,OAAAA,EAOAe,uLAAAA,OAAAA,EAdJ,qDAqBIf,IAAAA,EAAMgB,KAAKG,MAAmC,KAA5BR,EAAEU,MAAQC,OAAOC,UAAkB,IACrDR,EAAgBF,EAAMb,EAAKW,EAAEG,QAKlBH,MAAAA,wKAAAA,OAAAA,EAAEnB,KASAmB,oRAAAA,OAAAA,EAAEG,OAQFd,mOAAAA,OAAAA,EAMbe,4JAAAA,OAAAA,EA3BJ","file":"generatemodal.6dcb5bb6.js","sourceRoot":"..","sourcesContent":["function populateModal(name) {\n  let modalContent = `<div class=\"modal-content\">\n<span onclick=\"toggleModal()\" class=\"mc\">&#xf00d;</span>`;\n  let comp = store[searchObj(store, name)];\n  modalContent += `<div class = \"mcn-wrapper\">\n  <h1 class = \"modalcoursename\" >${name}: ${calcSum(comp)}% <span class=${\n    calcSum(comp) < 93 ? \"bad\" : \"good\"\n  }>${letterGrade(comp)}</span></h1>\n  </div>\n  <div class=\"mgrid\">\n  ${genComponents(name)}\n  `;\n  let num = numComponents(name);\n  modalContent += `\n\n  <div style =     \"display: flex;\n    flex-direction: column;\n    align-items: center;\">\n  <button name = \"l\" class=\"naked madd ${num == 8 ? \"disabled\" : \"\"} \">\n  <i class=\"fas fa-list-ul\"></i>\n  \n  </button>\n  <button name = \"t\" class=\"naked madd ${num == 8 ? \"disabled\" : \"\"} \">\n  <i style=\"margin-right: 0;\" class=\"fas fa-check-square\"></i>\n  </button>\n  </div>\n  </div>\n  \n  <div class=\"ri\">\n  <span class='unsaved hidden'>unsaved &nbsp;</span>\n  <span class = \"modal-save\">save</span>\n  \n  </div> \n  </div>`;\n\n  if (num <= 5) {\n    editCSS(\n      `.mgrid { grid-template-columns: ${Array(num + 1).join(\"1fr \")}0.1fr`\n    );\n  } else {\n    editCSS(\n      `.mgrid { grid-template-columns: ${Array(5).join(\"1fr \")} 0.1fr ${Array(\n        num - 5\n      ).join(\"1 fr \")}`\n    );\n  }\n  return modalContent;\n}\n\nfunction numComponents(name) {\n  let components = store[searchObj(store, name)];\n  return Object.keys(components.weights).length;\n}\nfunction genComponents(name) {\n  compString = ``;\n  let components = store[searchObj(store, name)];\n  for (let x of Object.keys(components.weights)) {\n    compString += genComponent(components.weights[x]);\n  }\n  return compString;\n}\n\nfunction calcC(num, weight) {\n  let contribuition = num * weight;\n  let lc = String(contribuition).replace(\".\", \"\").length;\n  if (lc > 4) {\n    contribuition = Math.round(contribuition);\n  }\n  return Math.round(contribuition * 100) / 10000;\n}\nfunction genComponent(x) {\n  if (x.isList) {\n    let num = Math.round((x.grade + Number.EPSILON) * 100) / 100;\n    // print(num); //maxlen = 4\n    //print(x.weight) // maxlen = 4\n    let contribuition = calcC(num, x.weight);\n\n    let comp = `\n    <div class=\"bb\"><input class=\"cc nakinput ric mheader\"\n    title=\"Enter your grade. Example: If you got 89% enter 89\"\n    name = \"mtitle\"\n    placeholder=\"${x.name}\" />\n    <div class=\"del-com\">&#xd7;</div>\n    <h4 class=\"nomargin\">\n      <div class = \"full-comp\">\n      Weight: \n      <input class=\"cc nakinput ric b\"\n      name = 'mweight'\n      title=\"Enter your grade. Example: If you got 89% enter 89\"\n        placeholder=\"${x.weight}%\" />\n      </div>\n    </h4>`;\n    for (let i of Object.keys(x.grad)) {\n      comp += `<div class = \"full-comp\">\n      <input class=\"cc nakinput lic\"\n      name=\"mcomp-gradename\"\n        title=\"Enter your grade. Example: If you got 89% enter 89\"\n        placeholder=\"${x.grad[i].name}\" />\n      <input class=\"cc nakinput ric\"\n      name=\"mcomp-grade\"\n        title=\"Enter your grade. Example: If you got 89% enter 89\"\n        placeholder=\"${x.grad[i].gradie}%\" />\n      </div>`;\n    }\n    comp += `<button class=\"addmcc naked nomargin\">\n      <i class=\"fas fa-plus-square\"></i>\n    </button>\n    <div class=\"mup\">\n    <div class = \"full-comp\">\n    <strong>Total:</strong>\n    <span style=\"font-weight: bold; margin-left: auto\">\n      ${num}%\n     </span>\n  </div>\n  \n    <div class = \"full-comp\">\n    <strong title=\"Contribution\" >Contrib. </strong>\n    <span style=\"font-weight: bold; margin-left: auto\">\n      ${contribuition}%\n     </span>\n    </div>\n    </div>\n  </div>`;\n    return comp;\n  } else {\n    let num = Math.round((x.grade + Number.EPSILON) * 100) / 100;\n    let contribuition = calcC(num, x.weight);\n    return `\n    <div class=\"bb\"> <input class=\"cc nakinput ric mheader\"\n    title=\"Enter your grade. Example: If you got 89% enter 89\"\n    name = \"mtitle\"\n    placeholder=\"${x.name}\" />\n    <div class=\"del-com\">&#xd7;</div>\n    <h4 class=\"nomargin\">\n    \n    <div class = \"full-comp\">\n    Weight: \n    <input class=\"cc nakinput ric b\"\n      name = 'mweight'\n      title=\"Enter your grade. Example: If you got 89% enter 89\"\n      placeholder=\"${x.weight}%\" />\n    </div>\n\n    <div class = \"full-comp\">\n    <strong>Score:</strong>\n    <input class=\"cc nakinput ric b\"\n    name=\"mscore\"\n      title=\"Enter your grade. Example: If you got 89% enter 89\"\n      placeholder=\"${num}%\" />\n    </div>\n  \n    <div class = \"full-comp\">\n    <strong title=\"Contribution\" >Contrib. </strong>\n    <span style=\"margin-left: auto\">\n      ${contribuition}%\n     </span>\n    </div>\n    </h4>\n  </div>`;\n  }\n}\n//add limits to inputs\n"]}